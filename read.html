<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Three Good Things</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>
  <div class="container">
    <header>
      <h1>Three Good Things</h1>
    </header>
    <nav class="navbar navbar-dark bg-dark navbar-expand-sm">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="read.html">Read</a>
          </li>
        </ul>
      </div>
    </nav>
    <main>
      <div id="allEntries">
      </div>
      <!-- script below will add all entries here, including today's entry if it has already been posted in descending order by date -->
    </main>
    <footer></footer>
  </div>

  <script>
    // For each entry saved to sessionStorage, add the entry to the page.
    // put necessary code here
    let userStorage = window.sessionStorage;
    let allEntries = document.getElementById("allEntries")
    let allEntriesUL = document.createElement('ul')
    console.log('1')

    if (userStorage.hasOwnProperty("JSON")) {
      let userLogs = JSON.parse(userStorage.getItem("JSON"));
      allEntries.appendChild(allEntriesUL)
      for (entry of userLogs) {
        addEntry(entry)
      }
    }

    /*
    This method adds an entry to the page.
    It places the date in an <h2>.
    It places the three good things in an ordered list. Also, if someone tries to inject code, it doesn't work, but for your site to fully function, replace "<" and ">" with "&lt;" and "&gt;", respectively. 
    Refer to: https://www.w3schools.com/jsref/jsref_replace.asp and https://www.w3schools.com/jsref/jsref_obj_regexp.asp
    */
    function addEntry(item) {

      entryLI = document.createElement('li')
      title = document.createElement('h2')
      entryOL = document.createElement('ol')
      entry1 = document.createElement('li')
      entry2 = document.createElement('li')
      entry3 = document.createElement('li')


      allEntriesUL.appendChild(entryLI)
      entryLI.appendChild(title)
      entryLI.appendChild(entryOL)
      entryOL.appendChild(entry1)
      entryOL.appendChild(entry2)
      entryOL.appendChild(entry3)

      title.innerHTML = item["date"]
      entry1.innerHTML = item["entry1"]
      entry2.innerHTML = item["entry2"]
      entry3.innerHTML = item["entry3"]

    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
</body>

</html>